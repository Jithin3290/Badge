import {useState,useRef} from "react"
function Stop(params) {
    const [num,setNum] = useState(0)
    const [min,setMin] = useState(0)

    const watchref = useRef(null)
    function handle() {
        if(watchref.current){return}
        watchref.current= setInterval(()=>{
            setNum((prev)=>{
                if(prev+1 === 60){
                setMin((pr)=>pr+1)
                return 0
            }
            return prev+1})
                
            
        },1000)
        
    }
    function handle2() {
        clearInterval(watchref.current)
        watchref.current = null
        
    }
    function handle3() {
        setNum(0)
        setMin(0)
        clearInterval(watchref.current)
        watchref.current = null

        
    }
    return(
        <>
            <h2>Stop Watch </h2>
    {min}:{num}<br/>
            <button onClick = {handle}>start</button>
            <button onClick = {handle2}>stop</button>
             <button onClick = {handle3}>reset</button>


        </>
    )
}
export default Stop
