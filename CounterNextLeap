import React, { useState,useRef } from "react";
import "./style.css";

export default function App() {
  const [data, setData] = useState(0);
  const [min , setMin] = useState(0)
  const dataRef = useRef(null)
  function handleStart(){
    if(!dataRef.current){
    dataRef.current = setInterval(()=>{
      setData((prev)=>{
      if(prev+1 === 5)
      {
        setMin((pre)=>pre+1)
        return 0
      }
      return prev+1
    })
    },[1000])}
  }
  function handleStop(){
    clearInterval(dataRef.current)
    dataRef.current = null

  }
  function handleReset(){
    clearInterval(dataRef.current)
    dataRef.current = null
    setData(0)
    setMin(0)
  }
  return (
    <div style = {{padding:10,backgroundColor:"skyblue"}}>
      <h1>Counter app </h1>
      {min}:{data}
      <br/>
      <div style={{display:"flex",gap:10}}>
      <button onClick = {handleStart} style={{backgroundColor:"green",color:"white"}}> start</button>
      <button onClick = {handleStop} style={{backgroundColor:"red",color:"white"}}>stop </button>
      <button onClick = {handleReset}style={{backgroundColor:"blue",color:"white"}}>reset</button>
      </div>
    </div>
  );
}
